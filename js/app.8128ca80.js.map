{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ElemItem.vue?ff68","webpack:///./src/views/Home.vue?8e03","webpack:///./src/App.vue?b828","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?3fe3","webpack:///./src/components/StageItem.vue?752b","webpack:///./src/components/StepItem.vue?61e0","webpack:///./src/components/ElemItem.vue?75ae","webpack:///./src/components/ModalEdit.vue?dcd4","webpack:///src/components/ModalEdit.vue","webpack:///./src/components/ModalEdit.vue?5370","webpack:///./src/components/ModalEdit.vue","webpack:///src/components/ElemItem.vue","webpack:///./src/components/ElemItem.vue?a194","webpack:///./src/components/ElemItem.vue","webpack:///src/components/StepItem.vue","webpack:///./src/components/StepItem.vue?3760","webpack:///./src/components/StepItem.vue","webpack:///src/components/StageItem.vue","webpack:///./src/components/StageItem.vue?9b98","webpack:///./src/components/StageItem.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/router.js","webpack:///./src/store/getters.js","webpack:///./src/const.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutations.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/ModalEdit.vue?1d1e","webpack:///./src/components/StageItem.vue?d939","webpack:///./src/components/StepItem.vue?535b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ElemItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ElemItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_361672b5_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","script","component","componentNormalizer","options","__file","App","Homevue_type_template_id_8195161e_render","staticClass","ghostClass","handle","setData","modifyDragItem","forceFallback","on","start","$event","dragStarted","end","model","callback","$$v","stages","expression","_l","stage","index","title","stepIds","steps","role","click","openAddStageModal","_v","directives","rawName","onSbm","addStageAndClearTitle","close","modalVisible","ref","slot","required","type","placeholder","domProps","input","target","composing","newStageTitle","Homevue_type_template_id_8195161e_staticRenderFns","StageItemvue_type_template_id_c3a61920_render","class","stage-item","stage-item--opened","isAccordionOpened","toggleAccordion","staticStyle","width","_s","_f","time","step","elemIds","elems","openAddStepModal","addStepAndClearTitle","newStepTitle","StageItemvue_type_template_id_c3a61920_staticRenderFns","StepItemvue_type_template_id_d1db6f64_render","disabled","additionDisabled","openAddElemModal","element","elem","manager","onAdd","newElemTitle","newElemManager","newElemTime","StepItemvue_type_template_id_d1db6f64_staticRenderFns","ElemItemvue_type_template_id_2991b8e5_render","openEditModal","onEdit","e","ElemItemvue_type_template_id_2991b8e5_staticRenderFns","ModalEditvue_type_template_id_3f3f1fa5_render","currentTarget","submit","preventDefault","keyup","_k","keyCode","_t","ModalEditvue_type_template_id_3f3f1fa5_staticRenderFns","ModalEditvue_type_script_lang_js_","methods","$emit","props","String","Function","components_ModalEditvue_type_script_lang_js_","ModalEdit_component","ModalEdit","ElemItemvue_type_script_lang_js_","components","Number","validator","Boolean","trim","$options","filters","formatTime","computed","minutes","_this$newElemTime$spl","split","_this$newElemTime$spl2","slicedToArray","hours","objectSpread","vuex_esm","$refs","toFocus","focus","validate","regexpHHMM","test","editElement","editElem","elemData","alert","components_ElemItemvue_type_script_lang_js_","ElemItem_component","ElemItem","StepItemvue_type_script_lang_js_","draggable","vuedraggable_default","a","Array","_this","map","$store","state","byId","set","newElems","dispatch","getters","stepTime","_this2","$nextTick","addElement","addElem","clearAll","dataTransfer","dragEl","HANDLER_PADDING","body","lastChild","scrollWidth","height","scrollHeight","setDragImage","components_StepItemvue_type_script_lang_js_","StepItem_component","StepItem","StageItemvue_type_script_lang_js_","newSteps","stageTime","addStep","updateHeight","panel","style","maxHeight","updated","components_StageItemvue_type_script_lang_js_","StageItem_component","StageItem","Homevue_type_script_lang_js_","ids","addStage","header","firstChild","views_Homevue_type_script_lang_js_","Home_component","Home","Vue","use","Router","router","routes","path","stageIDs","reduce","sum","times","src_const","STORAGE_KEY","initStore","_ref","commit","jsonState","localStorage","getItem","cnst","JSON","parse","_ref2","Date","now","setStageIds","_ref3","_ref4","_ref5","stageId","stepData","setStepIds","_ref6","_ref7","_ref8","_ref9","stepId","setElemIds","_ref10","_ref11","_ref12","_ref13","mutations","setState","newState","replaceState","allIds","setSteps","elemId","setElems","setElem","Vuex","store","Store","actions","config","productionTip","filter","fl","Math","floor","days","pad","concat","beforeCreate","render","h","$mount","subscribe","mutation","stringify","setItem","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalEdit_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalEdit_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StageItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StageItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StepItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,IAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,GAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,qBAEAU,kFCtJA,IAAA0C,EAAAnC,EAAA,QAAAoC,EAAApC,EAAA2B,EAAAQ,GAA4gBC,EAAG,gECA/gB,IAAAC,EAAArC,EAAA,QAAAsC,EAAAtC,EAAA2B,EAAAU,GAAwgBC,EAAG,umBCAvgBC,EAAM,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,CAAOC,GAAA,QAAY,CAAAH,EAAA,oBAC7HI,EAAA,eCAAC,EAAA,GAKAC,EAAgBlE,OAAAmE,EAAA,KAAAnE,CAChBiE,EACEV,EACAS,GACF,EACA,KACA,KACA,MAIAE,EAAAE,QAAAC,OAAA,UACe,IAAAC,EAAAJ,sBClBXK,EAAM,WAAgB,IAAAf,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBY,YAAA,aAAwB,CAAAZ,EAAA,OAAYY,YAAA,gBAA2B,CAAAZ,EAAA,aAAkBE,MAAA,CAAOM,QAAA,CAClMK,WAAA,QACAC,OAAA,WACAC,QAAAnB,EAAAoB,eACAC,eAAA,IACQC,GAAA,CAAKC,MAAA,SAAAC,GAAyBxB,EAAAyB,aAAA,GAAqBC,IAAA,SAAAF,GAAwBxB,EAAAyB,aAAA,IAAuBE,MAAA,CAAQhD,MAAAqB,EAAA,OAAA4B,SAAA,SAAAC,GAA4C7B,EAAA8B,OAAAD,GAAeE,WAAA,WAAsB/B,EAAAgC,GAAAhC,EAAA,gBAAAiC,EAAAC,GAA2C,OAAA9B,EAAA,aAAuBnB,IAAAgD,EAAA1B,GAAAD,MAAA,CAAoBC,GAAA0B,EAAA1B,GAAA4B,MAAAF,EAAAE,MAAAC,QAAAH,EAAAI,MAAAH,QAAA,EAAAT,YAAAzB,EAAAyB,kBAA2GrB,EAAA,UAAgBY,YAAA,8BAAAV,MAAA,CAAiDgC,KAAA,UAAgBhB,GAAA,CAAKiB,MAAAvC,EAAAwC,oBAA+B,CAAAxC,EAAAyC,GAAA,qCAAArC,EAAA,aAA8DsC,WAAA,EAAaxE,KAAA,OAAAyE,QAAA,SAAAhE,MAAAqB,EAAA,aAAA+B,WAAA,iBAAgFzB,MAAA,CAAS6B,MAAA,gBAAAS,MAAA,WAA6C,OAAA5C,EAAA6C,0BAAuCvB,GAAA,CAAKwB,MAAA,SAAAtB,GAAyBxB,EAAA+C,cAAA,KAAyB,CAAA3C,EAAA,SAAcsC,WAAA,EAAaxE,KAAA,QAAAyE,QAAA,UAAAhE,MAAAqB,EAAA,cAAA+B,WAAA,kBAAoFiB,IAAA,UAAAhC,YAAA,qBAAAV,MAAA,CAAwD2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,0BAAiFC,SAAA,CAAW1E,MAAAqB,EAAA,eAA4BsB,GAAA,CAAKgC,MAAA,SAAA9B,GAAyBA,EAAA+B,OAAAC,YAAsCxD,EAAAyD,cAAAjC,EAAA+B,OAAA5E,SAAuCsE,KAAA,SAAa7C,EAAA,UAAeY,YAAA,2CAAAV,MAAA,CAA8D2C,KAAA,UAAgBA,KAAA,UAAe,CAAAjD,EAAAyC,GAAA,mCACvyCiB,EAAe,eCNfC,EAAM,WAAgB,IAAA3D,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBwD,MAAA,CACzGC,cAAA,EACAC,qBAAA9D,EAAA+D,oBACI,CAAA3D,EAAA,MAAWY,YAAA,qBAAAM,GAAA,CAAqCiB,MAAAvC,EAAAgE,kBAA6B,CAAA5D,EAAA,OAAYY,YAAA,oBAA+B,CAAAhB,EAAAyB,YAA6DrB,EAAA,KAA+C6D,YAAA,CAAaC,MAAA,UAAzH9D,EAAA,KAA6BY,YAAA,qBAAgC,CAAAhB,EAAAyC,GAAA,SAAAzC,EAAAmE,GAAAnE,EAAAkC,YAA4E9B,EAAA,MAAaY,YAAA,qBAAgC,CAAAhB,EAAAyC,GAAAzC,EAAAmE,GAAAnE,EAAAmC,UAAA/B,EAAA,OAAwCY,YAAA,4CAAuD,CAAAZ,EAAA,KAAUY,YAAA,oBAA+B,CAAAhB,EAAAyC,GAAAzC,EAAAmE,GAAAnE,EAAAoE,GAAA,aAAApE,GAAAqE,YAAAjE,EAAA,UAAkEY,YAAA,UAAAV,MAAA,CAA6B6C,KAAA,WAAiB,CAAAnD,EAAAyC,GAAA,oBAAArC,EAAA,MAAsC4C,IAAA,QAAAhC,YAAA,oBAA2C,CAAAZ,EAAA,OAAYY,YAAA,qBAAgC,CAAAZ,EAAA,aAAkBE,MAAA,CAAOM,QAAA,CAChsBK,WAAA,QACAC,OAAA,qBACAG,eAAA,IACUM,MAAA,CAAQhD,MAAAqB,EAAA,MAAA4B,SAAA,SAAAC,GAA2C7B,EAAAqC,MAAAR,GAAcE,WAAA,UAAqB/B,EAAAgC,GAAAhC,EAAA,eAAAsE,EAAApC,GAAyC,OAAA9B,EAAA,YAAsBnB,IAAAqF,EAAA/D,GAAAD,MAAA,CAAmBC,GAAA+D,EAAA/D,GAAA4B,MAAAmC,EAAAnC,MAAAD,QAAA,EAAAqC,QAAAD,EAAAE,YAA0EpE,EAAA,UAAgBY,YAAA,mDAAAV,MAAA,CAAsE6C,KAAA,UAAgB7B,GAAA,CAAKiB,MAAAvC,EAAAyE,mBAA8B,CAAAzE,EAAAyC,GAAA,0CAAArC,EAAA,aAAmEsC,WAAA,EAAaxE,KAAA,OAAAyE,QAAA,SAAAhE,MAAAqB,EAAA,aAAA+B,WAAA,iBAAgFzB,MAAA,CAAS6B,MAAA,eAAAS,MAAA,WAA4C,OAAA5C,EAAA0E,yBAAsCpD,GAAA,CAAKwB,MAAA,SAAAtB,GAAyBxB,EAAA+C,cAAA,KAAyB,CAAA3C,EAAA,SAAcsC,WAAA,EAAaxE,KAAA,QAAAyE,QAAA,UAAAhE,MAAAqB,EAAA,aAAA+B,WAAA,iBAAkFiB,IAAA,UAAAhC,YAAA,qBAAAV,MAAA,CAAwD2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,yBAAgFC,SAAA,CAAW1E,MAAAqB,EAAA,cAA2BsB,GAAA,CAAKgC,MAAA,SAAA9B,GAAyBA,EAAA+B,OAAAC,YAAsCxD,EAAA2E,aAAAnD,EAAA+B,OAAA5E,SAAsCsE,KAAA,SAAa7C,EAAA,UAAeY,YAAA,2CAAAV,MAAA,CAA8D2C,KAAA,SAAAE,KAAA,UAAgCF,KAAA,UAAe,CAAAjD,EAAAyC,GAAA,mCACjsCmC,EAAe,GCRfC,aAAM,WAAgB,IAAA7E,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBY,YAAA,aAAwB,CAAAZ,EAAA,OAAYY,YAAA,qBAAgC,CAAAZ,EAAA,KAAUY,YAAA,oBAA+B,CAAAhB,EAAAyC,GAAA,iBAAAzC,EAAAmE,GAAAnE,EAAAkC,OAAA,YAAA9B,EAAA,QAAmEY,YAAA,qBAA+BZ,EAAA,KAAUY,YAAA,oBAA+B,CAAAhB,EAAAyC,GAAA,WAAAzC,EAAAmE,GAAAnE,EAAAoE,GAAA,aAAApE,GAAAqE,OAAA,YAAAjE,EAAA,QAAkFY,YAAA,0BAAoCZ,EAAA,KAAUY,YAAA,oBAA+B,CAAAhB,EAAAyC,GAAA,WAAAzC,EAAAmE,GAAAnE,EAAAmC,OAAA,YAAA/B,EAAA,QAA6DY,YAAA,0CAAkDZ,EAAA,OAAcY,YAAA,uBAAkC,CAAAZ,EAAA,UAAeY,YAAA,sBAAAV,MAAA,CAAyC6C,KAAA,SAAAhB,MAAA,mBAAA2C,SAAA9E,EAAA+E,kBAA2EzD,GAAA,CAAKiB,MAAAvC,EAAAgF,sBAA8B5E,EAAA,OAAcY,YAAA,mBAA8B,CAAAZ,EAAA,aAAkBY,YAAA,mBAAAV,MAAA,CAAsC2E,QAAA,KAAArE,QAAA,CAC16BK,WAAA,QACAC,OAAA,cACAC,QAAAnB,EAAAoB,eACAC,eAAA,IACQM,MAAA,CAAQhD,MAAAqB,EAAA,MAAA4B,SAAA,SAAAC,GAA2C7B,EAAAwE,MAAA3C,GAAcE,WAAA,UAAqB/B,EAAAgC,GAAAhC,EAAA,eAAAkF,EAAAhD,GAAyC,OAAA9B,EAAA,YAAsBnB,IAAAiG,EAAA3E,GAAAD,MAAA,CAAmBC,GAAA2E,EAAA3E,GAAA4B,MAAA+C,EAAA/C,MAAAgD,QAAAD,EAAAC,QAAAd,KAAAa,EAAAb,KAAAnC,eAAyF,GAAA9B,EAAA,aAAuBsC,WAAA,EAAaxE,KAAA,OAAAyE,QAAA,SAAAhE,MAAAqB,EAAA,aAAA+B,WAAA,iBAAgFzB,MAAA,CAAS6B,MAAA,mBAAAS,MAAA,WAAgD,OAAA5C,EAAAoF,UAAuB9D,GAAA,CAAKwB,MAAA,SAAAtB,GAAyBxB,EAAA+C,cAAA,KAAyB,CAAA3C,EAAA,SAAcsC,WAAA,EAAaxE,KAAA,QAAAyE,QAAA,UAAAhE,MAAAqB,EAAA,aAAA+B,WAAA,iBAAkFiB,IAAA,UAAAhC,YAAA,qBAAAV,MAAA,CAAwD2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,4BAAmFC,SAAA,CAAW1E,MAAAqB,EAAA,cAA2BsB,GAAA,CAAKgC,MAAA,SAAA9B,GAAyBA,EAAA+B,OAAAC,YAAsCxD,EAAAqF,aAAA7D,EAAA+B,OAAA5E,SAAsCsE,KAAA,SAAa7C,EAAA,SAAcsC,WAAA,EAAaxE,KAAA,QAAAyE,QAAA,UAAAhE,MAAAqB,EAAA,eAAA+B,WAAA,mBAAsFf,YAAA,qBAAAV,MAAA,CAA0C2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,6BAAoFC,SAAA,CAAW1E,MAAAqB,EAAA,gBAA6BsB,GAAA,CAAKgC,MAAA,SAAA9B,GAAyBA,EAAA+B,OAAAC,YAAsCxD,EAAAsF,eAAA9D,EAAA+B,OAAA5E,SAAwCsE,KAAA,SAAa7C,EAAA,SAAcsC,WAAA,EAAaxE,KAAA,QAAAyE,QAAA,UAAAhE,MAAAqB,EAAA,YAAA+B,WAAA,gBAAgFf,YAAA,qBAAAV,MAAA,CAA0C2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,iCAAwFC,SAAA,CAAW1E,MAAAqB,EAAA,aAA0BsB,GAAA,CAAKgC,MAAA,SAAA9B,GAAyBA,EAAA+B,OAAAC,YAAsCxD,EAAAuF,YAAA/D,EAAA+B,OAAA5E,SAAqCsE,KAAA,SAAa7C,EAAA,UAAeY,YAAA,2CAAAV,MAAA,CAA8D2C,KAAA,SAAAE,KAAA,UAAgCF,KAAA,UAAe,CAAAjD,EAAAyC,GAAA,oCACzyD+C,EAAe,2BCNfC,EAAM,WAAgB,IAAAzF,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBY,YAAA,QAAmB,CAAAZ,EAAA,QAAaY,YAAA,0BAAoCZ,EAAA,OAAYY,YAAA,aAAAV,MAAA,CAAgC6B,MAAA,yBAAgCb,GAAA,CAAKiB,MAAAvC,EAAA0F,iBAA2BtF,EAAA,aAAkBsC,WAAA,EAAaxE,KAAA,OAAAyE,QAAA,SAAAhE,MAAAqB,EAAA,aAAA+B,WAAA,iBAAgFzB,MAAA,CAAS6B,MAAA,wBAAAS,MAAA,WAAqD,OAAA5C,EAAA2F,WAAwBrE,GAAA,CAAKwB,MAAA,SAAAtB,GAAyBxB,EAAA+C,cAAA,KAAyB,CAAA3C,EAAA,SAAc4C,IAAA,UAAAhC,YAAA,qBAAAV,MAAA,CAAsD2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,4BAAmFC,SAAA,CAAW1E,MAAAqB,EAAAmC,OAAkBb,GAAA,CAAKgC,MAAA,SAAAsC,GAAsB,OAAA5F,EAAAqF,aAAAO,EAAArC,OAAA5E,QAA6CsE,KAAA,SAAa7C,EAAA,SAAcY,YAAA,qBAAAV,MAAA,CAAwC2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,6BAAoFC,SAAA,CAAW1E,MAAAqB,EAAAmF,SAAoB7D,GAAA,CAAKgC,MAAA,SAAAsC,GAAsB,OAAA5F,EAAAsF,eAAAM,EAAArC,OAAA5E,QAA+CsE,KAAA,SAAa7C,EAAA,SAAcY,YAAA,qBAAAV,MAAA,CAAwC2C,KAAA,OAAAC,SAAA,GAAAC,KAAA,OAAAC,YAAA,iCAAwFC,SAAA,CAAW1E,MAAAqB,EAAAoE,GAAA,aAAApE,GAAAqE,OAAuC/C,GAAA,CAAKgC,MAAA,SAAAsC,GAAsB,OAAA5F,EAAAuF,YAAAK,EAAArC,OAAA5E,QAA4CsE,KAAA,SAAa7C,EAAA,UAAeY,YAAA,2CAAAV,MAAA,CAA8D2C,KAAA,SAAAE,KAAA,UAAgCF,KAAA,UAAe,CAAAjD,EAAAyC,GAAA,iCAAArC,EAAA,UAAuDY,YAAA,2CAAAV,MAAA,CAA8D2C,KAAA,SAAAE,KAAA,UAAgC7B,GAAA,CAAKiB,MAAA,SAAAf,GAAyBxB,EAAA+C,cAAA,IAAwBE,KAAA,UAAe,CAAAjD,EAAAyC,GAAA,iCACpoDoD,EAAe,GCDfC,EAAM,WAAgB,IAAA9F,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBE,MAAA,CAAOpC,KAAA,eAAqB,CAAAkC,EAAA,OAAYY,YAAA,kBAAAM,GAAA,CAAkCiB,MAAA,SAAAf,GAAyB,OAAAA,EAAA+B,SAAA/B,EAAAuE,cAA2C,KAAe/F,EAAA8C,MAAAtB,MAA2B,CAAApB,EAAA,OAAYY,YAAA,QAAAV,MAAA,CAA2BgC,KAAA,WAAiB,CAAAlC,EAAA,UAAeY,YAAA,iBAA4B,CAAAhB,EAAAyC,GAAA,aAAAzC,EAAAmE,GAAAnE,EAAAmC,OAAA,cAAA/B,EAAA,QAAiEkB,GAAA,CAAI0E,OAAA,SAAAxE,GAAkD,OAAxBA,EAAAyE,iBAAwBjG,EAAA4C,MAAApB,IAAyB0E,MAAA,SAAA1E,GAA0B,iBAAAA,IAAAxB,EAAAmG,GAAA3E,EAAA4E,QAAA,SAAA5E,EAAAvC,IAAA,UAA8Fe,EAAA8C,MAAAtB,GAAf,QAA0C,CAAApB,EAAA,WAAgBY,YAAA,eAA0B,CAAAhB,EAAAqG,GAAA,YAAAjG,EAAA,UAAkCY,YAAA,iBAA4B,CAAAhB,EAAAqG,GAAA,uBACnxBC,EAAe,GCuBnBC,EAAA,CACAC,QAAA,CACA1D,MADA,WAEA7C,KAAAwG,MAAA,WAGAC,MAAA,CACAvE,MAAA,CACAgB,KAAAwD,OACAzD,UAAA,GAEAN,MAAA,CACAO,KAAAyD,YCpCmVC,EAAA,ECQ/UC,aAAYtK,OAAAmE,EAAA,KAAAnE,CACdqK,EACAf,EACAQ,GACF,EACA,KACA,KACA,OAIAQ,EAASlG,QAAAC,OAAA,gBACM,IAAAkG,EAAAD,sBC4CfE,EAAA,CACAC,WAAA,CACAF,aAEAL,MAAA,CACAnG,GAAA,CACA4C,KAAA+D,OACAhE,UAAA,GAEAhB,MAAA,CACAiB,KAAA+D,OACAhE,UAAA,GAEAf,MAAA,CACAgB,KAAAwD,OACAzD,UAAA,EACAiE,UAHA,SAGAxI,GACA,OAAAyI,QAAAzI,EAAA0I,UAGAlC,QAAA,CACAhC,KAAAwD,OACAzD,UAAA,EACAiE,UAHA,SAGAxI,GACA,OAAAyI,QAAAzI,EAAA0I,UAGAhD,KAAA,CACAlB,KAAA+D,OACAhE,UAAA,IAGArH,KAhCA,WAiCA,OACAkH,cAAA,EACAsC,aAAApF,KAAAkC,MACAmD,eAAArF,KAAAkF,QACAI,YAAAtF,KAAAqH,SAAAC,QAAAC,WAAAvH,KAAAoE,QAGAoD,SAAA,CACAC,QADA,WACA,IAAAC,EACA1H,KAAAsF,YAAAqC,MAAA,KADAC,EAAArL,OAAAsL,EAAA,KAAAtL,CAAAmL,EAAA,GACAI,EADAF,EAAA,GACAH,EADAG,EAAA,GAEA,UAAAE,EAAAb,OAAAQ,KAGAlB,QAAAhK,OAAAwL,EAAA,KAAAxL,CAAA,GACAA,OAAAyL,EAAA,KAAAzL,CAAA,CACA,aAFA,CAKAkJ,cALA,WAMAzF,KAAA8C,cAAA,EACA9C,KAAAiI,MAAAC,QAAAC,SAGAC,SAVA,WAWA,IAAAC,EAAA,4CACA,OAAAA,EAAAC,KAAAtI,KAAAsF,cAGAiD,YAfA,WAgBAvI,KAAAwI,SAAA,CACAlI,GAAAN,KAAAM,GACAmI,SAAA,CACAnI,GAAAN,KAAAM,GACA4B,MAAAlC,KAAAoF,aACAF,QAAAlF,KAAAqF,eACAjB,KAAApE,KAAAyH,YAKA/B,OA3BA,WA4BA1F,KAAAoI,YACApI,KAAAuI,cACAvI,KAAA8C,cAAA,GAEA4F,MAAA,gCC9IkVC,EAAA,ECQ9UC,aAAYrM,OAAAmE,EAAA,KAAAnE,CACdoM,EACAnD,EACAI,GACF,EACA,KACA,KACA,OAIAgD,EAASjI,QAAAC,OAAA,eACM,IAAAiI,EAAAD,+BC8EfE,EAAA,CACA9B,WAAA,CACA6B,WACA/B,YACAiC,UAAAC,EAAAC,GAEAxC,MAAA,CACAnG,GAAA,CACA4C,KAAA+D,OACAhE,UAAA,GAEAhB,MAAA,CACAiB,KAAA+D,OACAhE,UAAA,GAEAf,MAAA,CACAgB,KAAAwD,OACAzD,UAAA,EACAiE,UAHA,SAGAxI,GACA,OAAAyI,QAAAzI,EAAA0I,UAGA9C,QAAA,CACApB,KAAAgG,MACAjG,UAAA,IAGArH,KA3BA,WA4BA,OACAkH,cAAA,EACAsC,aAAA,GACAC,eAAA,GACAC,YAAA,KAGAkC,SAAA,CACAjD,MAAA,CACAjG,IADA,WACA,IAAA6K,EAAAnJ,KACA,OAAAA,KAAAsE,QAAA8E,IAAA,SAAA9I,GACA,OAAA6I,EAAAE,OAAAC,MAAA/E,MAAAgF,KAAAjJ,MAIAkJ,IAPA,SAOAjF,GACA,IAAAkF,EAAAlF,EAAA6E,IAAA,SAAAnE,GAAA,OAAAA,EAAA3E,KACA,OAAAN,KAAAqJ,OAAAK,SAAA,cAAApJ,GAAAN,KAAAM,GAAAmJ,eAIArF,KAdA,WAeA,OAAApE,KAAAqJ,OAAAM,QAAAC,SAAA5J,KAAAM,KAGAmH,QAlBA,WAkBA,IAAAC,EACA1H,KAAAsF,YAAAqC,MAAA,KADAC,EAAArL,OAAAsL,EAAA,KAAAtL,CAAAmL,EAAA,GACAI,EADAF,EAAA,GACAH,EADAG,EAAA,GAEA,UAAAE,EAAAb,OAAAQ,IAGA3C,iBAvBA,WAwBA,OAAA9E,KAAAuE,MAAAnI,QAAA,IAGAmK,QAAAhK,OAAAwL,EAAA,KAAAxL,CAAA,GACAA,OAAAyL,EAAA,KAAAzL,CAAA,CACA,YAFA,CAKAwI,iBALA,WAKA,IAAA8E,EAAA7J,KACAA,KAAA8C,cAAA,EACA9C,KAAA8J,UAAA,kBAAAD,EAAA5B,MAAAC,QAAAC,WAGAC,SAVA,WAWA,IAAAC,EAAA,4CACA,OAAAA,EAAAC,KAAAtI,KAAAsF,cAGAyE,WAfA,WAgBA/J,KAAAgK,QAAA,CACA1J,GAAAN,KAAAM,GACAmI,SAAA,CACAvG,MAAAlC,KAAAoF,aACAF,QAAAlF,KAAAqF,eACAjB,KAAApE,KAAAyH,YAKAwC,SA1BA,WA2BAjK,KAAAoF,aAAA,GACApF,KAAAqF,eAAA,GACArF,KAAAsF,YAAA,IAGAH,MAhCA,WAiCAnF,KAAAoI,YACApI,KAAA+J,aACA/J,KAAAiK,YAEAvB,MAAA,6BAKAvH,eA1CA,SA0CA+I,EAAAC,GACA,IAAAC,EAAA,GAEAC,EAAAF,EAAAG,UACArG,EAAAoG,EAAAE,YAAAH,EACAI,EAAAH,EAAAI,aACAP,EAAAQ,aAAAL,EAAApG,EAAAuG,EAAA,OChNkVG,EAAA,ECQ9UC,aAAYrO,OAAAmE,EAAA,KAAAnE,CACdoO,EACA/F,EACAW,GACF,EACA,KACA,KACA,OAIAqF,EAASjK,QAAAC,OAAA,eACM,IAAAiK,EAAAD,UC6DfE,EAAA,CACA9D,WAAA,CACA6D,WACA/D,YACAiC,UAAAC,EAAAC,GAEAxC,MAAA,CACAnG,GAAA,CACA4C,KAAA+D,OACAhE,UAAA,GAEAhB,MAAA,CACAiB,KAAA+D,OACAhE,UAAA,GAEAf,MAAA,CACAgB,KAAAwD,OACAzD,UAAA,EACAiE,UAHA,SAGAxI,GACA,OAAAyI,QAAAzI,EAAA0I,UAGAjF,QAAA,CACAe,KAAAgG,MACAjG,UAAA,GAEAzB,YAAA,CACA0B,KAAAiE,UAGAvL,KA9BA,WA+BA,OACAkI,mBAAA,EACAhB,cAAA,EACA4B,aAAA,KAGA8C,SAAA,CACApF,MAAA,CACA9D,IADA,WACA,IAAA6K,EAAAnJ,KACA,OAAAA,KAAAmC,QAAAiH,IAAA,SAAA9I,GACA,OAAA6I,EAAAE,OAAAC,MAAAlH,MAAAmH,KAAAjJ,MAIAkJ,IAPA,SAOApH,GACA,IAAA2I,EAAA3I,EAAAgH,IAAA,SAAA/E,GAAA,OAAAA,EAAA/D,KACA,OAAAN,KAAAqJ,OAAAK,SAAA,cAAApJ,GAAAN,KAAAM,GAAAyK,eAIA3G,KAdA,WAeA,OAAApE,KAAAqJ,OAAAM,QAAAqB,UAAAhL,KAAAM,MAGAiG,QAAAhK,OAAAwL,EAAA,KAAAxL,CAAA,GACAA,OAAAyL,EAAA,KAAAzL,CAAA,CACA,YAFA,CAKAiI,iBALA,WAKA,IAAAqF,EAAA7J,KACAA,KAAA8C,cAAA,EACA9C,KAAA8J,UAAA,kBAAAD,EAAA5B,MAAAC,QAAAC,WAGA1D,qBAVA,WAWAzE,KAAAiL,QAAA,CACA3K,GAAAN,KAAAM,GACAoE,aAAA1E,KAAA0E,eAEA1E,KAAA0E,aAAA,IAGAX,gBAlBA,WAmBA/D,KAAA8D,mBAAA9D,KAAA8D,mBAGAoH,aAtBA,WAuBA,IAAAC,EAAAnL,KAAAiI,MAAAkD,MACAnL,KAAA8D,kBACAqH,EAAAC,MAAAC,UAAAF,EAAAV,aAAA,KAEAU,EAAAC,MAAAC,UAAA,QAIAC,QAtFA,WAuFAtL,KAAAkL,iBCxKmVK,EAAA,ECQ/UC,aAAYjP,OAAAmE,EAAA,KAAAnE,CACdgP,EACA7H,EACAiB,GACF,EACA,KACA,KACA,OAIA6G,EAAS7K,QAAAC,OAAA,gBACM,IAAA6K,EAAAD,UCgDfE,EAAA,CACAzN,KAAA,OACA+I,WAAA,CACA+B,UAAAC,EAAAC,EACAwC,YACA3E,aAEAlL,KAPA,WAQA,OACA4H,cAAA,GACAhC,aAAA,EACAsB,cAAA,IAGA0E,SAAA,CACA3F,OAAA,CACAvD,IADA,WAEA,OAAA0B,KAAAqJ,OAAAM,QAAA9H,QAEA2H,IAJA,SAIA3H,GACA,IAAA8J,EAAA9J,EAAAuH,IAAA,SAAApH,GAAA,OAAAA,EAAA1B,KACAN,KAAAqJ,OAAAK,SAAA,cAAAiC,MAIApF,QAAAhK,OAAAwL,EAAA,KAAAxL,CAAA,GACAA,OAAAyL,EAAA,KAAAzL,CAAA,CACA,aAFA,CAKAgG,kBALA,WAKA,IAAA4G,EAAAnJ,KACAA,KAAA8C,cAAA,EACA9C,KAAA8J,UAAA,kBAAAX,EAAAlB,MAAAC,QAAAC,WAGAvF,sBAVA,WAWA5C,KAAA4L,SAAA5L,KAAAwD,eACAxD,KAAAwD,cAAA,IAIArC,eAhBA,SAgBA+I,EAAAC,GACA,IAAAC,EAAA,GAEAyB,EAAA1B,EAAA2B,WACA7H,EAAA4H,EAAAtB,YAAAH,EACAI,EAAAqB,EAAApB,aACAP,EAAAQ,aAAAmB,EAAA5H,EAAAuG,EAAA,OCnH8UuB,EAAA,ECQ1UC,aAAYzP,OAAAmE,EAAA,KAAAnE,CACdwP,EACAjL,EACA2C,GACF,EACA,KACA,KACA,OAIAuI,EAASrL,QAAAC,OAAA,WACM,IAAAqL,EAAAD,UChBfE,OAAIC,IAAIC,QAEO,IAAAC,EAAA,IAAID,OAAO,CACxBE,OAAQ,CACN,CACEC,KAAM,IACNtO,KAAM,OACNwC,UAAWwL,MCXJpK,EAAS,SAAAyH,GACpB,OAAOA,EAAMkD,SAASpD,IAAI,SAAA9I,GAAE,OAAIgJ,EAAMzH,OAAO0H,KAAKjJ,MAGvCsJ,EAAW,SAAAN,GAAK,OAAI,SAAAhJ,GAC/B,IAAMgE,EAAUgF,EAAMlH,MAAMmH,KAAKjJ,GAAIiE,MAC/BA,EAAQD,EAAQ8E,IAAI,SAAA9I,GAAE,OAAIgJ,EAAM/E,MAAMgF,KAAKjJ,KACjD,OAAOiE,EAAMkI,OAAO,SAACC,EAAKzH,GACxB,OAAOyH,EAAMzH,EAAKb,MACjB,KAGQ4G,EAAY,SAAC1B,EAAOK,GAAR,OAAoB,SAAArJ,GAC3C,IAAM6B,EAAUmH,EAAMzH,OAAO0H,KAAKjJ,GAAI8B,MAChCuK,EAAQxK,EAAQiH,IAAI,SAAA9I,GAAE,OAAIqJ,EAAQC,SAAStJ,KACjD,OAAOqM,EAAMF,OAAO,SAACC,EAAK/N,GAAN,OAAY+N,EAAM/N,GAAG,KCf5BiO,EAAA,CACbC,YAAa,iBCCFC,EAAY,SAAAC,GAAgB,IAAbC,EAAaD,EAAbC,OACpBC,EAAYC,aAAaC,QAAQC,EAAKP,aAC5C,GAAII,EAAW,CACb,IAAM3D,EAAQ+D,KAAKC,MAAML,GACzBD,EAAO,WAAY1D,KAIVsC,GAAW,SAAA2B,EAAarL,GAAU,IAApB8K,EAAoBO,EAApBP,OACzBA,EAAO,WAAY,CACjB1M,GAAIkN,KAAKC,MACTvL,QACAE,MAAO,MAIEsL,GAAc,SAAAC,EAAahC,GAAQ,IAAlBqB,EAAkBW,EAAlBX,OAC5BA,EAAO,cAAerB,IAGXV,GAAU,SAAA2C,EAAAC,GAAsD,IAAnDb,EAAmDY,EAAnDZ,OAAgBc,EAAmCD,EAAvCvN,GAA2B4B,EAAY2L,EAA1BnJ,aACjDsI,EAAO,UAAW,CAChBc,UACAC,SAAU,CACRzN,GAAIkN,KAAKC,MACTvL,QACAqC,MAAO,OAKAyJ,GAAa,SAAAC,EAAAC,GAA2C,IAAxClB,EAAwCiB,EAAxCjB,OAAgBc,EAAwBI,EAA5B5N,GAAayK,EAAemD,EAAfnD,SACpDiC,EAAO,WAAY,CAAEc,UAAS/C,cAGnBf,GAAU,SAAAmE,EAAAC,GAA0C,IAAvCpB,EAAuCmB,EAAvCnB,OAAgBqB,EAAuBD,EAA3B9N,GAAYmI,EAAe2F,EAAf3F,SACxCvG,EAAyBuG,EAAzBvG,MAAOgD,EAAkBuD,EAAlBvD,QAASd,EAASqE,EAATrE,KACxB4I,EAAO,UAAW,CAChBqB,SACA5F,SAAU,CACRnI,GAAIkN,KAAKC,MACTvL,QACAgD,UACAd,WAKOkK,GAAa,SAAAC,EAAAC,GAA0C,IAAvCxB,EAAuCuB,EAAvCvB,OAAgBqB,EAAuBG,EAA3BlO,GAAYmJ,EAAe+E,EAAf/E,SACnDuD,EAAO,WAAY,CAAEqB,SAAQ5E,cAGlBjB,GAAW,SAAAiG,EAAAC,GAAkC,IAA/B1B,EAA+ByB,EAA/BzB,OAAY1M,EAAmBoO,EAAnBpO,GAAImI,EAAeiG,EAAfjG,SACzCuE,EAAO,UAAW,CAAE1M,KAAImI,cCrDXkG,GAAA,CACbC,SADa,SACJtF,EAAOuF,GACd7O,KAAK8O,aAAaD,IAIpBjD,SANa,SAMJtC,EAAOtH,GACd,IAAM1B,EAAK0B,EAAM1B,GACjBgJ,EAAMkD,SAASlQ,KAAKgE,GACpBgJ,EAAMzH,OAAOkN,OAAOzS,KAAKgE,GACzB4L,OAAI1C,IAAIF,EAAMzH,OAAO0H,KAAM7C,OAAOpG,GAAK0B,IAGzC0L,YAba,SAaDpE,EAAOqC,GACjBO,OAAI1C,IAAIF,EAAO,WAAYqC,IAI7BV,QAlBa,SAkBL3B,EAlBKyD,GAkByB,IAArBe,EAAqBf,EAArBe,QAASC,EAAYhB,EAAZgB,SAClBM,EAASN,EAASzN,GACxBgJ,EAAMzH,OAAO0H,KAAKuE,GAAS1L,MAAM9F,KAAK+R,GACtC/E,EAAMlH,MAAM2M,OAAOzS,KAAK+R,GACxBnC,OAAI1C,IAAIF,EAAMlH,MAAMmH,KAAM7C,OAAO2H,GAASN,IAG5CiB,SAzBa,SAyBJ1F,EAzBIiE,GAyByB,IAApBO,EAAoBP,EAApBO,QAAS/C,EAAWwC,EAAXxC,SACzBmB,OAAI1C,IAAIF,EAAMzH,OAAO0H,KAAKuE,GAAU,QAAS/C,IAI/Cf,QA9Ba,SA8BLV,EA9BKqE,GA8BwB,IAApBU,EAAoBV,EAApBU,OAAQ5F,EAAYkF,EAAZlF,SACjBwG,EAASxG,EAASnI,GACxBgJ,EAAMlH,MAAMmH,KAAK8E,GAAQ9J,MAAMjI,KAAK2S,GACpC3F,EAAM/E,MAAMwK,OAAOzS,KAAK2S,GACxB/C,OAAI1C,IAAIF,EAAM/E,MAAMgF,KAAM7C,OAAOuI,GAASxG,IAG5CyG,SArCa,SAqCJ5F,EArCIsE,GAqCwB,IAAnBS,EAAmBT,EAAnBS,OAAQ5E,EAAWmE,EAAXnE,SACxByC,OAAI1C,IAAIF,EAAMlH,MAAMmH,KAAK8E,GAAS,QAAS5E,IAG7C0F,QAzCa,SAyCL7F,EAzCKuE,GAyCoB,IAAhBvN,EAAgBuN,EAAhBvN,GAAImI,EAAYoF,EAAZpF,SACnByD,OAAI1C,IAAIF,EAAM/E,MAAMgF,KAAM7C,OAAOpG,GAAKmI,KCtC1CyD,OAAIC,IAAIiD,QAER,IAAM9F,GAAQ,CACZkD,SAAU,GAEV3K,OAAQ,CACN0H,KAAM,GAONwF,OAAQ,IAGV3M,MAAO,CACLmH,KAAM,GAONwF,OAAQ,IAGVxK,MAAO,CACLgF,KAAM,GAQNwF,OAAQ,KAIGM,GAAA,IAAID,OAAKE,MAAM,CAC5BhG,SACAK,UACA4F,UACAZ,eC3CFzC,OAAIsD,OAAOC,eAAgB,EAE3BvD,OAAIwD,OAAO,aAAc,SAAAtL,GACvB,IAAMuL,EAAKC,KAAKC,MACVC,EAAOH,EAAIA,EAAGvL,EAAO,IAAM,IAC3B0D,EAAQ6H,EAAGvL,EAAO,IAAM,GACxBqD,EAAUrD,EAAO,GAEjB2L,EAAM,SAAA7Q,GAAC,OAAIA,EAAI,GAAK,IAAMA,EAAIA,GAEpC,OAAgB,IAAT4Q,EACO,IAAVhI,EAAA,GAAAkI,OACKvI,EADL,aAAAuI,OAEKD,EAAIjI,GAFT,KAAAkI,OAEmBD,EAAItI,IAHpB,GAAAuI,OAIAF,EAJA,MAAAE,OAISlI,EAJT,MAAAkI,OAImBvI,EAJnB,OAOT,IAAIyE,OAAI,CACNG,SACAgD,SACAY,aAHM,WAIJjQ,KAAKqJ,OAAOK,SAAS,cAEvBwG,OAAQ,SAAAC,GAAC,OAAIA,EAAEtP,MACduP,OAAO,QAEVf,GAAMgB,UAAU,SAACC,EAAUhH,GACzB,IAAM2D,EAAYI,KAAKkD,UAAUjH,GACjC4D,aAAasD,QAAQpD,EAAKP,YAAaI,0CCnCzC,IAAAwD,EAAAlT,EAAA,QAAAmT,EAAAnT,EAAA2B,EAAAuR,GAA6gBC,EAAG,uCCAhhB,IAAAC,EAAApT,EAAA,QAAAqT,EAAArT,EAAA2B,EAAAyR,GAA6gBC,EAAG,mFCAhhB,IAAAC,EAAAtT,EAAA,QAAAuT,EAAAvT,EAAA2B,EAAA2R,GAA4gBC,EAAG","file":"js/app.8128ca80.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElemItem.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElemItem.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=361672b5&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"task-builder\"},[_c('draggable',{attrs:{\"options\":{\n        ghostClass: 'ghost',\n        handle: '.handler',\n        setData: _vm.modifyDragItem,\n        forceFallback: true\n      }},on:{\"start\":function($event){_vm.dragStarted=true},\"end\":function($event){_vm.dragStarted=false}},model:{value:(_vm.stages),callback:function ($$v) {_vm.stages=$$v},expression:\"stages\"}},_vm._l((_vm.stages),function(stage,index){return _c('StageItem',{key:stage.id,attrs:{\"id\":stage.id,\"title\":stage.title,\"stepIds\":stage.steps,\"index\":index + 1,\"dragStarted\":_vm.dragStarted}})})),_c('button',{staticClass:\"button task-builder__button\",attrs:{\"role\":\"button\"},on:{\"click\":_vm.openAddStageModal}},[_vm._v(\"\\n      Добавить этап\\n    \")])],1),_c('ModalEdit',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modalVisible),expression:\"modalVisible\"}],attrs:{\"title\":\"Добавить этап\",\"onSbm\":function () { return _vm.addStageAndClearTitle(); }},on:{\"close\":function($event){_vm.modalVisible=false}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStageTitle),expression:\"newStageTitle\"}],ref:\"toFocus\",staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите название этапа\"},domProps:{\"value\":(_vm.newStageTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newStageTitle=$event.target.value}},slot:\"body\"}),_c('button',{staticClass:\"button button--size--small modal__button\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_vm._v(\"\\n      Добавить\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dl',{class:{\n    'stage-item': true,\n    'stage-item--opened': _vm.isAccordionOpened\n  }},[_c('dt',{staticClass:\"stage-item__header\",on:{\"click\":_vm.toggleAccordion}},[_c('div',{staticClass:\"stage-item__side\"},[(!_vm.dragStarted)?_c('p',{staticClass:\"stage-item__index\"},[_vm._v(\"Этап №\"+_vm._s(_vm.index))]):_c('p',{staticStyle:{\"width\":\"90px\"}})]),_c('h3',{staticClass:\"stage-item__title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"stage-item__side stage-item__side--right\"},[_c('p',{staticClass:\"stage-item__time\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.time)))])]),_c('button',{staticClass:\"handler\",attrs:{\"type\":\"button\"}},[_vm._v(\"Drag handler\")])]),_c('dd',{ref:\"panel\",staticClass:\"stage-item__body\"},[_c('div',{staticClass:\"stage-item__inner\"},[_c('draggable',{attrs:{\"options\":{\n          ghostClass: 'ghost',\n          handle: '.step-item__header',            \n          forceFallback: true\n        }},model:{value:(_vm.steps),callback:function ($$v) {_vm.steps=$$v},expression:\"steps\"}},_vm._l((_vm.steps),function(step,index){return _c('StepItem',{key:step.id,attrs:{\"id\":step.id,\"title\":step.title,\"index\":index + 1,\"elemIds\":step.elems}})})),_c('button',{staticClass:\"button button--size--medium task-builder__button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openAddStepModal}},[_vm._v(\"\\n        Добавить шаг\\n      \")])],1)]),_c('ModalEdit',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modalVisible),expression:\"modalVisible\"}],attrs:{\"title\":\"Добавить шаг\",\"onSbm\":function () { return _vm.addStepAndClearTitle(); }},on:{\"close\":function($event){_vm.modalVisible=false}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStepTitle),expression:\"newStepTitle\"}],ref:\"toFocus\",staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите название шага\"},domProps:{\"value\":(_vm.newStepTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newStepTitle=$event.target.value}},slot:\"body\"}),_c('button',{staticClass:\"button button--size--small modal__button\",attrs:{\"slot\":\"footer\",\"type\":\"submit\"},slot:\"footer\"},[_vm._v(\"\\n      Добавить\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-item\"},[_c('div',{staticClass:\"step-item__header\"},[_c('p',{staticClass:\"step-item__index\"},[_vm._v(\"\\n      Шаг № \"+_vm._s(_vm.index)+\"\\n    \")]),_c('span',{staticClass:\"line line--fixed\"}),_c('p',{staticClass:\"step-item__title\"},[_vm._v(\"\\n      \"+_vm._s(_vm._f(\"formatTime\")(_vm.time))+\"\\n    \")]),_c('span',{staticClass:\"line line--horizontal\"}),_c('p',{staticClass:\"step-item__title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_c('span',{staticClass:\"line line--fixed line--size--medium\"})]),_c('div',{staticClass:\"step-item__controls\"},[_c('button',{staticClass:\"step-item__add-elem\",attrs:{\"type\":\"button\",\"title\":\"Добавить элемент\",\"disabled\":_vm.additionDisabled},on:{\"click\":_vm.openAddElemModal}})]),_c('div',{staticClass:\"step-item__body\"},[_c('draggable',{staticClass:\"step-item__elems\",attrs:{\"element\":\"ul\",\"options\":{\n        ghostClass: 'ghost',\n        handle: '.elem__body',    \n        setData: _vm.modifyDragItem,            \n        forceFallback: true\n      }},model:{value:(_vm.elems),callback:function ($$v) {_vm.elems=$$v},expression:\"elems\"}},_vm._l((_vm.elems),function(elem,index){return _c('ElemItem',{key:elem.id,attrs:{\"id\":elem.id,\"title\":elem.title,\"manager\":elem.manager,\"time\":elem.time,\"index\":index}})}))],1),_c('ModalEdit',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modalVisible),expression:\"modalVisible\"}],attrs:{\"title\":\"Добавить элемент\",\"onSbm\":function () { return _vm.onAdd(); }},on:{\"close\":function($event){_vm.modalVisible=false}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newElemTitle),expression:\"newElemTitle\"}],ref:\"toFocus\",staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите название задания\"},domProps:{\"value\":(_vm.newElemTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newElemTitle=$event.target.value}},slot:\"body\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newElemManager),expression:\"newElemManager\"}],staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите ФИО отвественного\"},domProps:{\"value\":(_vm.newElemManager)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newElemManager=$event.target.value}},slot:\"body\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newElemTime),expression:\"newElemTime\"}],staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите время в формате ЧЧ:ММ\"},domProps:{\"value\":(_vm.newElemTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newElemTime=$event.target.value}},slot:\"body\"}),_c('button',{staticClass:\"button button--size--small modal__button\",attrs:{\"slot\":\"footer\",\"type\":\"submit\"},slot:\"footer\"},[_vm._v(\"\\n      Добавить\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"elem\"},[_c('span',{staticClass:\"line line--horizontal\"}),_c('div',{staticClass:\"elem__body\",attrs:{\"title\":\"Редактировать элемент\"},on:{\"click\":_vm.openEditModal}}),_c('ModalEdit',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modalVisible),expression:\"modalVisible\"}],attrs:{\"title\":\"Редактировать элемент\",\"onSbm\":function () { return _vm.onEdit(); }},on:{\"close\":function($event){_vm.modalVisible=false}}},[_c('input',{ref:\"toFocus\",staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите название задания\"},domProps:{\"value\":_vm.title},on:{\"input\":function (e) { return _vm.newElemTitle = e.target.value; }},slot:\"body\"}),_c('input',{staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите ФИО отвественного\"},domProps:{\"value\":_vm.manager},on:{\"input\":function (e) { return _vm.newElemManager = e.target.value; }},slot:\"body\"}),_c('input',{staticClass:\"input modal__input\",attrs:{\"slot\":\"body\",\"required\":\"\",\"type\":\"text\",\"placeholder\":\"Введите время в формате ЧЧ:ММ\"},domProps:{\"value\":_vm._f(\"formatTime\")(_vm.time)},on:{\"input\":function (e) { return _vm.newElemTime = e.target.value; }},slot:\"body\"}),_c('button',{staticClass:\"button button--size--small modal__button\",attrs:{\"slot\":\"footer\",\"type\":\"submit\"},slot:\"footer\"},[_vm._v(\"\\n      Редактировать\\n    \")]),_c('button',{staticClass:\"button button--size--small modal__button\",attrs:{\"slot\":\"footer\",\"type\":\"button\"},on:{\"click\":function($event){_vm.modalVisible=false}},slot:\"footer\"},[_vm._v(\"\\n      Отмена\\n    \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal__backdrop\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.close($event)}}},[_c('div',{staticClass:\"modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal__header\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSbm($event)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key,\"Escape\")){ return null; }return _vm.close($event)}}},[_c('section',{staticClass:\"modal__body\"},[_vm._t(\"body\")],2),_c('footer',{staticClass:\"modal__footer\"},[_vm._t(\"footer\")],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"modal-fade\">\r\n    <div @click.self=\"close\" class=\"modal__backdrop\">\r\n      <div class=\"modal\" role=\"dialog\">\r\n        <header class=\"modal__header\">\r\n          {{ title }}\r\n        </header>\r\n        <form \r\n          @submit.prevent=\"onSbm\" \r\n          @keyup.esc=\"close\"\r\n        >            \r\n          <section class=\"modal__body\">\r\n            <slot name=\"body\"></slot>\r\n          </section>\r\n          <footer class=\"modal__footer\">\r\n            <slot name=\"footer\"></slot>\r\n          </footer>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    close() {\r\n      this.$emit('close');\r\n    }\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    onSbm: {\r\n      type: Function,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.modal {\r\n  background: #FFFFFF;\r\n  box-shadow: 2px 2px 20px 1px;\r\n  border-radius: 5px;\r\n  min-width: 320px;\r\n\r\n  &__backdrop {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: rgba(#000, .3);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 10;\r\n  }\r\n\r\n  &__header {\r\n    font-size: 20px;\r\n    padding: 15px 25px;\r\n    border-bottom: 1px solid $border;\r\n  }\r\n\r\n  &__body {\r\n    padding: 20px 25px;\r\n    border-bottom: 1px solid $border;\r\n  }\r\n\r\n  &__footer {\r\n    padding: 15px 25px;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n  }\r\n\r\n  &__input {\r\n    margin-bottom: 10px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  &__button {\r\n    margin-left: 10px;\r\n  }\r\n}\r\n\r\n.modal-fade-enter,\r\n.modal-fade-leave-active {\r\n  opacity: 0;\r\n}\r\n\r\n.modal-fade-enter-active,\r\n.modal-fade-leave-active {\r\n  transition: opacity .3s ease\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalEdit.vue?vue&type=template&id=3f3f1fa5&\"\nimport script from \"./ModalEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalEdit.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ModalEdit.vue\"\nexport default component.exports","<template>\r\n  <li class=\"elem\">   \r\n    <span class=\"line line--horizontal\"></span>\r\n    <div @click=\"openEditModal\" title=\"Редактировать элемент\" class=\"elem__body\"></div>\r\n\r\n    <ModalEdit \r\n      v-show=\"modalVisible\"\r\n      @close=\"modalVisible=false\"\r\n      title=\"Редактировать элемент\"\r\n      :onSbm=\"() => onEdit()\"\r\n    > \r\n      <input \r\n        ref=\"toFocus\"\r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите название задания\"\r\n        :value=\"title\"\r\n        @input=\"e => newElemTitle = e.target.value\"\r\n      >\r\n      <input \r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите ФИО отвественного\"\r\n        :value=\"manager\"\r\n        @input=\"e => newElemManager = e.target.value\"\r\n      >\r\n      <input \r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите время в формате ЧЧ:ММ\"\r\n        :value=\"time | formatTime\"\r\n        @input=\"e => newElemTime = e.target.value\"\r\n      >\r\n\r\n      <button \r\n        slot=\"footer\"\r\n        type=\"submit\"\r\n        class=\"button button--size--small modal__button\"\r\n      >\r\n        Редактировать\r\n      </button>\r\n      <button \r\n        slot=\"footer\"\r\n        type=\"button\"\r\n        class=\"button button--size--small modal__button\"\r\n        @click=\"modalVisible=false\"\r\n      >\r\n        Отмена\r\n      </button>\r\n    </ModalEdit>    \r\n  </li>\r\n</template>\r\n\r\n<script>\r\n  import ModalEdit from '@/components/ModalEdit'\r\n \r\n  import { mapActions } from 'vuex'\r\n\r\n  export default {\r\n    components: {\r\n      ModalEdit\r\n    },\r\n    props: {\r\n      id: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      index: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      title: {\r\n        type: String,\r\n        required: true,\r\n        validator(value) {\r\n          return Boolean( value.trim() )\r\n        }\r\n      },\r\n      manager: {\r\n        type: String,\r\n        required: true,\r\n        validator(value) {\r\n          return Boolean( value.trim() )\r\n        }\r\n      },\r\n      time: {\r\n        type: Number,\r\n        required: true\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        modalVisible: false,\r\n        newElemTitle: this.title,\r\n        newElemManager: this.manager,\r\n        newElemTime: this.$options.filters.formatTime(this.time)\r\n      }\r\n    },\r\n    computed: {      \r\n      minutes() {\r\n        const [hours, minutes] = this.newElemTime.split(':')\r\n        return hours * 60 + Number(minutes)\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'editElem'\r\n      ]),\r\n\r\n      openEditModal() {\r\n        this.modalVisible = true\r\n        this.$refs.toFocus.focus()\r\n      },\r\n\r\n      validate() {\r\n        const regexpHHMM = /^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/\r\n        return regexpHHMM.test(this.newElemTime)\r\n      },\r\n\r\n      editElement() {\r\n        this.editElem({ \r\n          id: this.id, \r\n          elemData: {\r\n            id: this.id,\r\n            title: this.newElemTitle,\r\n            manager: this.newElemManager,\r\n            time: this.minutes\r\n          }\r\n        })\r\n      },\r\n\r\n      onEdit() {\r\n        if (this.validate()) {\r\n          this.editElement()\r\n          this.modalVisible = false\r\n        } else {\r\n          alert('Неверный формат времени.')\r\n        }\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .elem {\r\n    width: 33.333333%;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &__body {\r\n      cursor: move;\r\n      border-radius: 50%;\r\n      width: 33px;\r\n      height: 33px;\r\n      border: 1px solid $accent;\r\n      background: $accent;\r\n      background-image: url('../assets/server.svg');\r\n      background-size: 21px;\r\n      background-repeat: no-repeat;\r\n      background-position: center;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElemItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElemItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElemItem.vue?vue&type=template&id=2991b8e5&\"\nimport script from \"./ElemItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ElemItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElemItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ElemItem.vue\"\nexport default component.exports","<template>\r\n  <div class=\"step-item\">\r\n    <div class=\"step-item__header\">\r\n      <p class=\"step-item__index\">\r\n        Шаг № {{ index }}\r\n      </p>\r\n      <span class=\"line line--fixed\"></span>\r\n      <p class=\"step-item__title\">\r\n        {{ time | formatTime }}\r\n      </p>\r\n      <span class=\"line line--horizontal\"></span>\r\n      <p class=\"step-item__title\">\r\n        {{ title }}\r\n      </p>\r\n      <span class=\"line line--fixed line--size--medium\"></span>\r\n    </div>\r\n    <div class=\"step-item__controls\">      \r\n      <button \r\n        class=\"step-item__add-elem\"\r\n        type=\"button\" \r\n        title=\"Добавить элемент\" \r\n        :disabled=\"additionDisabled\" \r\n        @click=\"openAddElemModal\" \r\n      ></button>\r\n    </div>\r\n    <div class=\"step-item__body\">\r\n      <draggable\r\n        class=\"step-item__elems\"\r\n        v-model=\"elems\" \r\n        element=\"ul\"\r\n        :options=\"{\r\n          ghostClass: 'ghost',\r\n          handle: '.elem__body',    \r\n          setData: modifyDragItem,            \r\n          forceFallback: true\r\n        }\"\r\n      >\r\n        <ElemItem\r\n          v-for=\"(elem, index) in elems\"\r\n          :key=\"elem.id\"\r\n          :id=\"elem.id\"\r\n          :title=\"elem.title\"\r\n          :manager=\"elem.manager\"\r\n          :time=\"elem.time\"\r\n          :index=\"index\"\r\n        />\r\n      </draggable>\r\n    </div>\r\n\r\n    <ModalEdit \r\n      v-show=\"modalVisible\"\r\n      @close=\"modalVisible=false\"\r\n      title=\"Добавить элемент\"\r\n      :onSbm=\"() => onAdd()\"\r\n    > \r\n      <input \r\n        ref=\"toFocus\"\r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите название задания\"\r\n        v-model=\"newElemTitle\"\r\n      >\r\n      <input \r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите ФИО отвественного\"\r\n        v-model=\"newElemManager\"\r\n      >\r\n      <input \r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите время в формате ЧЧ:ММ\"\r\n        v-model=\"newElemTime\"\r\n      >\r\n      <button \r\n        slot=\"footer\"\r\n        type=\"submit\"\r\n        class=\"button button--size--small modal__button\"\r\n      >\r\n        Добавить\r\n      </button>\r\n    </ModalEdit>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ElemItem from '@/components/ElemItem.vue'\r\n  import ModalEdit from '@/components/ModalEdit.vue'\r\n\r\n  import draggable from 'vuedraggable'\r\n  import { mapActions, mapGetters } from 'vuex'\r\n\r\n  export default {\r\n    components: {\r\n      ElemItem,\r\n      ModalEdit,\r\n      draggable\r\n    },\r\n    props: {\r\n      id: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      index: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      title: {\r\n        type: String,\r\n        required: true,\r\n        validator(value) {\r\n          return Boolean( value.trim() )\r\n        }\r\n      },\r\n      elemIds: {\r\n        type: Array,\r\n        required: true\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        modalVisible: false,\r\n        newElemTitle: '',\r\n        newElemManager: '',\r\n        newElemTime: ''\r\n      }\r\n    },\r\n    computed: {\r\n      elems: {\r\n        get() {\r\n          return this.elemIds.map(id => {\r\n            return this.$store.state.elems.byId[id]\r\n          })\r\n        },\r\n\r\n        set(elems) {\r\n          const newElems = elems.map(elem => elem.id)\r\n          return this.$store.dispatch('setElemIds', { id: this.id, newElems })\r\n        }\r\n      },\r\n\r\n      time() {\r\n        return this.$store.getters.stepTime(this.id);\r\n      },\r\n\r\n      minutes() {\r\n        const [hours, minutes] = this.newElemTime.split(':')\r\n        return hours * 60 + Number(minutes)\r\n      },\r\n\r\n      additionDisabled() {\r\n        return this.elems.length >= 3\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'addElem'\r\n      ]),\r\n\r\n      openAddElemModal() {\r\n        this.modalVisible = true\r\n        this.$nextTick(() => this.$refs.toFocus.focus())      \r\n      },\r\n\r\n      validate() {\r\n        const regexpHHMM = /^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/\r\n        return regexpHHMM.test(this.newElemTime)\r\n      },\r\n\r\n      addElement() {\r\n        this.addElem({ \r\n          id: this.id, \r\n          elemData: {\r\n            title: this.newElemTitle,\r\n            manager: this.newElemManager,\r\n            time: this.minutes\r\n          }\r\n        })\r\n      },\r\n\r\n      clearAll() {\r\n        this.newElemTitle = ''\r\n        this.newElemManager = ''\r\n        this.newElemTime = ''\r\n      },\r\n\r\n      onAdd() {\r\n        if (this.validate()) {\r\n          this.addElement()\r\n          this.clearAll()\r\n        } else {\r\n          alert('Неверный формат времени.')\r\n        }\r\n      },\r\n      \r\n      // Fix huge drag-image, replace it with the .elem_body\r\n      modifyDragItem(dataTransfer, dragEl) {\r\n        const HANDLER_PADDING = 15\r\n        \r\n        const body = dragEl.lastChild \r\n        const width = body.scrollWidth - HANDLER_PADDING\r\n        const height = body.scrollHeight\r\n        dataTransfer.setDragImage(body, width, height / 2)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .step-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 15px;\r\n\r\n    &__header {\r\n      cursor: move;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      width: 40%;\r\n      flex-grow: 1\r\n    }\r\n\r\n    &__index,\r\n    &__title {\r\n      position: relative;\r\n      border: 1px solid rgba(#2c3e50, .25);\r\n      border-radius: 30px;\r\n      background: #fff;\r\n      padding: 7px 15px;\r\n      margin: 0;\r\n    }\r\n\r\n    &__title {\r\n      max-width: 70%;\r\n    }\r\n\r\n    &__add-elem {\r\n      cursor: pointer;\r\n      outline: none;\r\n      background: url('../assets/add.svg');\r\n      background-size: cover;\r\n      border: none;\r\n      border-radius: 50%;\r\n      width: 36px;\r\n      height: 36px;\r\n      left: 35px;\r\n      top: 16px;\r\n\r\n      &:disabled {\r\n        opacity: .3;\r\n      }\r\n    }\r\n\r\n    &__body {\r\n      width: 40%;\r\n      flex-grow: 1\r\n    }\r\n\r\n    &__elems {\r\n      display: flex;\r\n      align-items: center;\r\n      list-style-type: none;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepItem.vue?vue&type=template&id=d1db6f64&\"\nimport script from \"./StepItem.vue?vue&type=script&lang=js&\"\nexport * from \"./StepItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StepItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"StepItem.vue\"\nexport default component.exports","<template>\r\n  <dl\r\n    :class=\"{\r\n      'stage-item': true,\r\n      'stage-item--opened': isAccordionOpened\r\n    }\"\r\n  >\r\n    <dt @click=\"toggleAccordion\" class=\"stage-item__header\">\r\n      <div class=\"stage-item__side\">\r\n        <p v-if=\"!dragStarted\" class=\"stage-item__index\">Этап №{{ index }}</p>\r\n        <p v-else style=\"width:90px\"></p>\r\n      </div>\r\n      <h3 class=\"stage-item__title\">{{ title }}</h3>\r\n      <div class=\"stage-item__side stage-item__side--right\">\r\n        <p class=\"stage-item__time\">{{ time | formatTime }}</p>\r\n      </div>\r\n      <button class=\"handler\" type=\"button\">Drag handler</button>     \r\n    </dt>\r\n    <dd ref=\"panel\" class=\"stage-item__body\">\r\n      <div class=\"stage-item__inner\">\r\n        <draggable\r\n          v-model=\"steps\" \r\n          :options=\"{\r\n            ghostClass: 'ghost',\r\n            handle: '.step-item__header',            \r\n            forceFallback: true\r\n          }\"\r\n        >\r\n          <StepItem\r\n            v-for=\"(step, index) in steps\"\r\n            :key=\"step.id\"\r\n            :id=\"step.id\"\r\n            :title=\"step.title\"\r\n            :index=\"index + 1\"\r\n            :elemIds=\"step.elems\"\r\n          />\r\n        </draggable>\r\n        <button  \r\n          type=\"button\"\r\n          class=\"button button--size--medium task-builder__button\"\r\n          @click=\"openAddStepModal\"\r\n        >\r\n          Добавить шаг\r\n        </button>\r\n      </div>\r\n    </dd>\r\n\r\n    <ModalEdit \r\n      v-show=\"modalVisible\"\r\n      @close=\"modalVisible=false\"\r\n      title=\"Добавить шаг\"\r\n      :onSbm=\"() => addStepAndClearTitle()\"\r\n    > \r\n      <input \r\n        ref=\"toFocus\"\r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите название шага\"\r\n        v-model=\"newStepTitle\"\r\n      >\r\n      <button \r\n        slot=\"footer\"\r\n        type=\"submit\"\r\n        class=\"button button--size--small modal__button\"\r\n      >\r\n        Добавить\r\n      </button>\r\n    </ModalEdit>    \r\n  </dl>\r\n</template>\r\n\r\n<script>\r\n  import StepItem from \"@/components/StepItem.vue\"\r\n  import ModalEdit from \"@/components/ModalEdit.vue\"\r\n\r\n  import draggable from 'vuedraggable'\r\n  import { mapActions, mapGetters } from 'vuex'\r\n\r\n\r\n  export default {\r\n    components: {\r\n      StepItem,\r\n      ModalEdit,\r\n      draggable\r\n    },\r\n    props: {\r\n      id: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      index: {\r\n        type: Number,\r\n        required: true\r\n      },\r\n      title: {\r\n        type: String,\r\n        required: true,\r\n        validator(value) {\r\n          return Boolean( value.trim() )\r\n        }\r\n      },\r\n      stepIds: {\r\n        type: Array,\r\n        required: true\r\n      },\r\n      dragStarted: {\r\n        type: Boolean,\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        isAccordionOpened: false,\r\n        modalVisible: false,\r\n        newStepTitle: ''\r\n      }\r\n    },\r\n    computed: {\r\n      steps: {\r\n        get() {\r\n          return this.stepIds.map(id => {\r\n            return this.$store.state.steps.byId[id]\r\n          })\r\n        },\r\n\r\n        set(steps) {\r\n          const newSteps = steps.map(step => step.id)\r\n          return this.$store.dispatch('setStepIds', { id: this.id, newSteps })\r\n        }\r\n      },\r\n\r\n      time() {\r\n        return this.$store.getters.stageTime(this.id)\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'addStep'\r\n      ]),\r\n\r\n      openAddStepModal() {\r\n        this.modalVisible = true\r\n        this.$nextTick(() => this.$refs.toFocus.focus())      \r\n      },\r\n\r\n      addStepAndClearTitle() {\r\n        this.addStep({ \r\n          id: this.id, \r\n          newStepTitle: this.newStepTitle\r\n        })\r\n        this.newStepTitle = ''\r\n      },\r\n\r\n      toggleAccordion() {\r\n        this.isAccordionOpened = !this.isAccordionOpened\r\n      },\r\n\r\n      updateHeight() {\r\n        const panel = this.$refs.panel\r\n        if (this.isAccordionOpened) {\r\n          panel.style.maxHeight = panel.scrollHeight + 'px'\r\n        } else {\r\n          panel.style.maxHeight = null\r\n        }\r\n      }\r\n    },\r\n    updated() {\r\n      this.updateHeight()\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .stage-item {\r\n    width: 100%;\r\n    padding-bottom: 10px;\r\n\r\n    &__header {\r\n      position: relative;\r\n      border-radius: 8px;\r\n      background: #e5f0f8;\r\n      display: flex;\r\n      align-items: baseline;\r\n      justify-content: space-between;\r\n      padding: 0 100px;\r\n      cursor: pointer;\r\n\r\n      &::before {\r\n        content: url('../assets/arrow-bottom.svg');\r\n        position: absolute;\r\n        left: 35px;\r\n        top: 16px;\r\n      }\r\n    }\r\n\r\n    &__index,\r\n    &__time {\r\n      border: 1px solid $accent;\r\n      border-radius: 20px;\r\n      padding: 4px 15px;\r\n      color: $accent;\r\n      font-size: 14px;\r\n    }\r\n\r\n    &__side {\r\n      display: flex;\r\n      width: 20%;\r\n      flex-grow: 1;\r\n\r\n      &--right {\r\n        justify-content: flex-end;\r\n      }\r\n    }\r\n\r\n    &__body {\r\n      max-height: 0;\r\n      display: block;\r\n      width: 100%;\r\n      overflow: hidden;\r\n      transition: max-height 0.2s ease-out;\r\n      background: #fafafa;\r\n      margin: 0;\r\n      border-radius: 0 0 8px 8px;\r\n    }\r\n\r\n    &__inner {\r\n      padding: 25px 36px;\r\n    }\r\n\r\n    &--opened & {\r\n\r\n      &__header {\r\n        border-radius: 8px 8px 0 0;  \r\n\r\n        &::before {\r\n          content: url('../assets/arrow-top.svg');\r\n        }      \r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StageItem.vue?vue&type=template&id=c3a61920&\"\nimport script from \"./StageItem.vue?vue&type=script&lang=js&\"\nexport * from \"./StageItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StageItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"StageItem.vue\"\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n\r\n    <div class=\"task-builder\">\r\n      <draggable \r\n        @start=\"dragStarted=true\" \r\n        @end=\"dragStarted=false\" \r\n        v-model=\"stages\" \r\n        :options=\"{\r\n          ghostClass: 'ghost',\r\n          handle: '.handler',\r\n          setData: modifyDragItem,\r\n          forceFallback: true\r\n        }\"\r\n      >\r\n        <StageItem\r\n          v-for=\"(stage, index) in stages\"\r\n          :key=\"stage.id\"\r\n          :id=\"stage.id\"\r\n          :title=\"stage.title\"\r\n          :stepIds=\"stage.steps\"\r\n          :index=\"index + 1\"\r\n          :dragStarted=\"dragStarted\"\r\n        />\r\n      </draggable>\r\n      <button \r\n        role=\"button\"\r\n        class=\"button task-builder__button\" \r\n        @click=\"openAddStageModal\" \r\n      >\r\n        Добавить этап\r\n      </button>\r\n    </div>\r\n\r\n\r\n    <ModalEdit \r\n      v-show=\"modalVisible\"\r\n      @close=\"modalVisible=false\"\r\n      title=\"Добавить этап\"\r\n      :onSbm=\"() => addStageAndClearTitle()\"\r\n    > \r\n      <input \r\n        ref=\"toFocus\"\r\n        required\r\n        slot=\"body\"\r\n        type=\"text\"\r\n        class=\"input modal__input\"\r\n        placeholder=\"Введите название этапа\"\r\n        v-model=\"newStageTitle\"\r\n      >\r\n      <button \r\n        slot=\"footer\"\r\n        class=\"button button--size--small modal__button\"\r\n      >\r\n        Добавить\r\n      </button>\r\n    </ModalEdit>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StageItem from '@/components/StageItem.vue'\r\nimport ModalEdit from '@/components/ModalEdit.vue'\r\n\r\nimport draggable from 'vuedraggable'\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'home',\r\n  components: {\r\n    draggable,\r\n    StageItem,\r\n    ModalEdit\r\n  },\r\n  data() {\r\n    return {\r\n      newStageTitle: '',\r\n      dragStarted: false,\r\n      modalVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    stages: {\r\n      get() {\r\n        return this.$store.getters.stages\r\n      },\r\n      set(stages) {\r\n        const ids = stages.map(stage => stage.id)\r\n        this.$store.dispatch('setStageIds', ids)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'addStage'\r\n    ]),\r\n\r\n    openAddStageModal() {\r\n      this.modalVisible = true\r\n      this.$nextTick(() => this.$refs.toFocus.focus())      \r\n    },\r\n\r\n    addStageAndClearTitle() {\r\n      this.addStage(this.newStageTitle)\r\n      this.newStageTitle = ''\r\n    },\r\n\r\n    // Fix huge drag-image, replace it with the .stage-item__header\r\n    modifyDragItem(dataTransfer, dragEl) {\r\n      const HANDLER_PADDING = 45\r\n      \r\n      const header = dragEl.firstChild \r\n      const width = header.scrollWidth - HANDLER_PADDING\r\n      const height = header.scrollHeight\r\n      dataTransfer.setDragImage(header, width, height / 2)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n  .task-builder {\r\n    &__button {\r\n      display: block;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=8195161e&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Home.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Home from './views/Home.vue'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: Home\r\n    }\r\n  ]\r\n})\r\n","export const stages = state => {\r\n  return state.stageIDs.map(id => state.stages.byId[id])\r\n}\r\n\r\nexport const stepTime = state => id => {\r\n  const elemIds = state.steps.byId[id].elems\r\n  const elems = elemIds.map(id => state.elems.byId[id])\r\n  return elems.reduce((sum, elem) => {\r\n    return sum + elem.time\r\n  }, 0)\r\n}\r\n\r\nexport const stageTime = (state, getters) => id => {\r\n  const stepIds = state.stages.byId[id].steps\r\n  const times = stepIds.map(id => getters.stepTime(id))\r\n  return times.reduce((sum, t) => sum + t, 0)\r\n}","export default {\r\n  STORAGE_KEY: 'toto-dodo-key',\r\n}","import cnst from '../const';\r\n\r\nexport const initStore = ({ commit }) => {\r\n  const jsonState = localStorage.getItem(cnst.STORAGE_KEY)\r\n  if (jsonState) {\r\n    const state = JSON.parse(jsonState)\r\n    commit('setState', state)\r\n  }\r\n}\r\n\r\nexport const addStage = ({ commit }, title) => {\r\n  commit('addStage', {\r\n    id: Date.now(),\r\n    title,\r\n    steps: []\r\n  })\r\n}\r\n\r\nexport const setStageIds = ({ commit }, ids) => {\r\n  commit('setStageIds', ids)\r\n}\r\n\r\nexport const addStep = ({ commit }, { id: stageId, newStepTitle: title }) => {\r\n  commit('addStep', {    \r\n    stageId,\r\n    stepData: {\r\n      id: Date.now(),\r\n      title,\r\n      elems: []\r\n    }\r\n  });\r\n}\r\n\r\nexport const setStepIds = ({ commit }, { id: stageId, newSteps }) => {\r\n  commit('setSteps', { stageId, newSteps })\r\n}\r\n\r\nexport const addElem = ({ commit }, { id: stepId, elemData }) => {\r\n  const { title, manager, time } = elemData\r\n  commit('addElem', {    \r\n    stepId,\r\n    elemData: {\r\n      id: Date.now(),\r\n      title,\r\n      manager,\r\n      time\r\n    }\r\n  });\r\n}\r\n\r\nexport const setElemIds = ({ commit }, { id: stepId, newElems }) => {\r\n  commit('setElems', { stepId, newElems })\r\n}\r\n\r\nexport const editElem = ({ commit }, { id, elemData }) => {\r\n  commit('setElem', { id, elemData });\r\n}","import Vue from 'vue'\r\n\r\nexport default {\r\n  setState(state, newState) {\r\n    this.replaceState(newState)\r\n  },\r\n  \r\n\r\n  addStage(state, stage) {\r\n    const id = stage.id\r\n    state.stageIDs.push(id)\r\n    state.stages.allIds.push(id)\r\n    Vue.set(state.stages.byId, String(id), stage)\r\n  },\r\n\r\n  setStageIds(state, ids) {\r\n    Vue.set(state, 'stageIDs', ids)\r\n  },\r\n\r\n\r\n  addStep(state, { stageId, stepData }) {\r\n    const stepId = stepData.id;\r\n    state.stages.byId[stageId].steps.push(stepId)\r\n    state.steps.allIds.push(stepId)\r\n    Vue.set(state.steps.byId, String(stepId), stepData)\r\n  },\r\n\r\n  setSteps(state, { stageId, newSteps}) {\r\n    Vue.set(state.stages.byId[stageId], 'steps', newSteps)\r\n  },\r\n\r\n  \r\n  addElem(state, { stepId, elemData }) {\r\n    const elemId = elemData.id\r\n    state.steps.byId[stepId].elems.push(elemId)\r\n    state.elems.allIds.push(elemId)\r\n    Vue.set(state.elems.byId, String(elemId), elemData)\r\n  },\r\n\r\n  setElems(state, { stepId, newElems}) {\r\n    Vue.set(state.steps.byId[stepId], 'elems', newElems)\r\n  },\r\n\r\n  setElem(state, { id, elemData }) {\r\n    Vue.set(state.elems.byId, String(id), elemData)\r\n  }\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport * as getters from './getters'\r\nimport * as actions from './actions'\r\nimport mutations from './mutations'\r\n\r\nVue.use(Vuex)\r\n\r\nconst state = {\r\n  stageIDs: [],\r\n\r\n  stages: {\r\n    byId: {      \r\n      // 'stage1': {\r\n      //   id,\r\n      //   title,\r\n      //   steps: ['step1', ...]\r\n      // },\r\n    },\r\n    allIds: []\r\n  },\r\n\r\n  steps: {\r\n    byId: {\r\n      // 'step1': {\r\n      //   id,\r\n      //   title,\r\n      //   elems: ['elem1', ...]\r\n      // },\r\n    },\r\n    allIds: []\r\n  },\r\n\r\n  elems: {\r\n    byId: {\r\n      // 'elem1': {\r\n      //   id,\r\n      //   title,\r\n      //   manager,\r\n      //   time\r\n      // },\r\n    },\r\n    allIds: []\r\n  }\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations,\r\n})","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from '@/store'\r\n\r\nimport cnst from './const'\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.filter('formatTime', time => {\r\n  const fl = Math.floor\r\n  const days = fl( fl(time / 24) / 60 )\r\n  const hours = fl(time / 60) % 24\r\n  const minutes = time % 60\r\n\r\n  const pad = n => n < 10 ? '0' + n : n\r\n  \r\n  return days === 0\r\n    ? hours === 0\r\n      ? `${minutes} минут`\r\n      : `${pad(hours)}:${pad(minutes)}`\r\n    : `${days}д ${hours}ч ${minutes}м`\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  beforeCreate() {\r\n    this.$store.dispatch('initStore')\r\n  },\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n\r\nstore.subscribe((mutation, state) => {\r\n  const jsonState = JSON.stringify(state)\r\n  localStorage.setItem(cnst.STORAGE_KEY, jsonState)\r\n})","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalEdit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalEdit.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageItem.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StageItem.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepItem.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepItem.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}